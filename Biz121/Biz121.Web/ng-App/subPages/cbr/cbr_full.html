<div class="breadcrumbs" id="breadcrumbs">
					<script type="text/javascript">
					    try { ace.settings.check('breadcrumbs', 'fixed') } catch (e) { }
					</script>

					<ul class="breadcrumb">
						<li>
							<i class="ace-icon fa fa-home home-icon"></i>
							<a href="/">Home</a>
						</li>

						<li class="active">Context Based Routing</li>
					</ul><!-- /.breadcrumb -->

				</div>
<div class="page-content">
			

					<div class="page-header">
						<h1>
							Context Based Routing
							<small>
								<i class="ace-icon fa fa-angle-double-right"></i>
								with Failed Message Routing
							</small>
						</h1>
					</div><!-- /.page-header -->

					<div class="row">
						<div class="col-xs-12">
							<!-- PAGE CONTENT BEGINS -->

							<div class="widget-box">
								<div class="widget-header widget-header-blue widget-header-flat">
									<h4 class="widget-title lighter">CBR Wizard</h4>

									<div class="widget-toolbar">
										<label>
											<small class="green">
												<b>Validation</b>
											</small>

											<input id="skip-validation" type="checkbox" class="ace ace-switch ace-switch-4">
											<span class="lbl middle"></span>
										</label>
									</div>
								</div>

								<div class="widget-body">
									<div class="widget-main">
										<div id="fuelux-wizard" data-target="#step-container">
											<ul class="wizard-steps">
												<li data-target="#step1" class="active">
													<span class="step">1</span>
													<span class="title">Create Receive Port</span>
												</li>

												<li data-target="#step2" class="">
													<span class="step">2</span>
													<span class="title">Create Send Port</span>
												</li>

												<li data-target="#step3" class="">
													<span class="step">3</span>
													<span class="title">Configure Failed Message Routing</span>
												</li>

												<li data-target="#step4" class="">
													<span class="step">4</span>
													<span class="title">Review and Create</span>
												</li>
											</ul>
										</div>

										<hr>

										<div class="step-content pos-rel" id="step-container">
											<div class="step-pane active" id="step1">
												<h3 class="lighter block green">Enter the following information</h3>

												
                                                <!--http://scotch.io/tutorials/javascript/angularjs-form-validation-->
                                                <form class="form-horizontal" id="validation-form" name="rpForm" method="get" novalidate="novalidate">
                                                    <!--<cnginput ng-model="newReceivePort.name" form="rpForm" elname="rpName"></cnginput>-->
                                                    <pre>{{applications}} {{newReceivePort}} {{rpForm.$invalid}}</pre>

                                                    <field ng-model="newReceivePort.interfaceName" type="text" name="rpName" label="{{'Interface' + ' Name'}}" required>
                                                        <validator key="required">Interface Name is Required</validator>
                                                    </field>

                                                    <div class="space-2"></div>

                                                    <field ng-model="newReceivePort.description" type="text" name="rpDesc" label="{{'Interface' + ' Description'}}" optional="true"></field>

                                                    <div class="space-2"></div>

                                                  <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="form-field-select-3">Application</label>
                                                                <div class="col-xs-12 col-sm-9">
                                                                    <div class="clearfix">
                                                                        <select class="col-xs-12 col-sm-6" id="Select2" data-placeholder="Choose a Application..." 
                                                                            ng-model="newReceivePort.applicationName" ng-options ="a for a in applications" 
                                                                            chosen allow-single-deselect="true">
                                                                          <option value=""></option>
                                                                        </select>
                                                            </div>
                                                      </div>
                                                   </div>
                                                    <!-- Receive Location Details -->
                                                    <div class="hr hr-dotted"></div>


                                                            <div class="space-2"></div>

                                                            <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="phone">Transport Type</label>
                                                                <div class="col-xs-12 col-sm-6">
                                                                    <div class="clearfix">
                                                                        <input type="text" id="trntype" name="trntype" class="col-xs-12 col-sm-6" ng-model="newReceiveLocation.transportType">
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="space-2"></div>
                                                            <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="name">Address URI:</label>

                                                                <div class="col-xs-12 col-sm-9">
                                                                    <div class="clearfix">
                                                                        <input type="text" id="rladdress" name="rladdress" class="col-xs-12 col-sm-6" ng-model="newReceiveLocation.address">
                                                                    </div>
                                                                </div>
                                                            </div>


<!--     Code used for debugging Chosen                   <pre>{{newReceivePort.applicationName}}</pre>
                                                            <div class="hr hr-dotted"></div>

                                                            <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="form-field-select-3">Application</label>
                                                                <div class="col-xs-12 col-sm-9">
                                                                    <div class="clearfix">
                                                                        <select class="col-xs-12 col-sm-6" id="form-field-select-3" data-placeholder="Choose a Application..." 
                                                                            ng-model="newReceivePort.applicationName" ng-options ="person.name as person.name for person in people" 
                                                                            chosen allow-single-deselect="true">
                                                                          <option value=""></option>
                                                                        </select>

                                                                    </div>
                                                                    
                                                                </div>
                                                            </div>-->


                                                    <div class="space-2"></div>
                                                       <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="form-field-select-3">Application</label>
                                                                <div class="col-xs-12 col-sm-9">
                                                                    <div class="clearfix">
                                                                        <select class="col-xs-12 col-sm-6" id="Select1" data-placeholder="Choose a Application..." 
                                                                            ng-model="newReceivePort.applicationName" ng-options ="a for a in applications" 
                                                                            chosen allow-single-deselect="true">
                                                                          <option value=""></option>
                                                                        </select>

                                                                    </div>
                                                                    
                                                                </div>
                                                            </div>
                                                        

                                                            <div class="space-2"></div>


                                                            <div class="form-group">
                                                                <div class="col-xs-12 col-sm-4 col-sm-offset-3">
                                                                    <label>
                                                                        <input name="start" id="start" type="checkbox" class="ace" ng-model="newReceiveLocation.status">
                                                                        <span class="lbl"> Start Receive Location On Create</span>
                                                                    </label>
                                                                </div>
                                                            </div>

                                                            <div class="btn btn-primary" ng-click="AssociateRL()" ng-disabled="rpForm.$invalid || isUnchanged(newReceivePort)">Associate</div>
                                                </form>
											</div>

											<div class="step-pane" id="step2">
												<div>
													<div class="alert alert-success">
														<button type="button" class="close" data-dismiss="alert">
															<i class="ace-icon fa fa-times"></i>
														</button>

														<strong>
															<i class="ace-icon fa fa-check"></i>
															Well done!
														</strong>

														You successfully read this important alert message.
														<br>
													</div>

													<div class="alert alert-danger">
														<button type="button" class="close" data-dismiss="alert">
															<i class="ace-icon fa fa-times"></i>
														</button>

														<strong>
															<i class="ace-icon fa fa-times"></i>
															Oh snap!
														</strong>

														Change a few things up and try submitting again.
														<br>
													</div>

													<div class="alert alert-warning">
														<button type="button" class="close" data-dismiss="alert">
															<i class="ace-icon fa fa-times"></i>
														</button>
														<strong>Warning!</strong>

														Best check yo self, you're not looking too good.
														<br>
													</div>

													<div class="alert alert-info">
														<button type="button" class="close" data-dismiss="alert">
															<i class="ace-icon fa fa-times"></i>
														</button>
														<strong>Heads up!</strong>

														This alert needs your attention, but it's not super important.
														<br>
													</div>
												</div>
											</div>

											<div class="step-pane" id="step3">
												<div class="center">
													<h3 class="blue lighter">This is step 3</h3>
												</div>
											</div>

											<div class="step-pane" id="step4">
												<div class="center">
													<h3 class="green">Congrats!</h3>
													Your product is ready to ship! Click finish to continue!
												</div>
											</div>
										</div>

										<hr>
										<div class="wizard-actions">
											<button class="btn btn-prev" disabled="disabled">
												<i class="ace-icon fa fa-arrow-left"></i>
												Prev
											</button>

											<button class="btn btn-success btn-next" data-last="Finish">
												Next
												
											<i class="ace-icon fa fa-arrow-right icon-on-right"></i></button>
										</div>
									</div><!-- /.widget-main -->
								</div><!-- /.widget-body -->
							</div>

							<!-- PAGE CONTENT ENDS -->
						</div><!-- /.col -->
					</div><!-- /.row -->
				</div>


<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.2.0/bootbox.min.js"></script>
<script type="text/javascript">
    jQuery(function ($) {

        var AddPageSpecificScript = function (section,src)
        {
            var jqscript = document.getElementById(section);
            var js = document.createElement('script');
            js.setAttribute('src', src);
            jqscript.parentNode.insertBefore(js, jqscript);

        };

       // AddPageSpecificScript('jqScripts', "/Scripts/Ace/fuelux.wizard.min.js");
        //AddPageSpecificScript('jqScripts', "/Scripts/Ace/jquery-ui.custom.min.js");
        //AddPageSpecificScript('jqScripts', "/Scripts/Ace/jquery.ui.touch-punch.min.js");
        //AddPageSpecificScript('jqScripts', "/Scripts/Ace/chosen.jquery.min.js");
       // AddPageSpecificScript('aceScripts', "/Scripts/Ace/ace-elements.min.js");


        var $validation = false;
        $('#fuelux-wizard')
                .ace_wizard({
                    //step: 2 //optional argument. wizard will jump to step "2" at first
                })
                .on('change', function (e, info) {
                    if (info.step == 1 && $validation) {
                        if (!$('#validation-form').valid()) return false;
                    }
                })
                .on('finished', function (e) {
                    bootbox.dialog({
                        message: "Thank you! Your information was successfully saved!",
                        buttons: {
                            "success": {
                                "label": "OK",
                                "className": "btn-sm btn-primary"
                            }
                        }
                    });
                }).on('stepclick', function (e) {
                    //e.preventDefault();//this will prevent clicking and selecting steps
                });

        //jump to a step
        $('#step-jump').on('click', function () {
            var wizard = $('#fuelux-wizard').data('wizard')
            wizard.currentStep = 3;
            wizard.setState();
        })


        //hide or show the other form which requires validation
        //this is for demo only, you usullay want just one form in your application
        $('#skip-validation').removeAttr('checked').on('click', function () {
            $validation = this.checked;
            if (this.checked) {
                $('#sample-form').hide();
                $('#validation-form').removeClass('hide');
            }
            else {
                $('#validation-form').addClass('hide');
                $('#sample-form').show();
            }
        })





        $('.chosen-select').chosen({ allow_single_deselect: true });
        //resize the chosen on window resize
        $(window).on('resize.chosen', function () {
            var w = $('.chosen-select').parent().width() * 0.6;
            $('.chosen-select').next().css({ 'width': w });
        }).trigger('resize.chosen');

    });
    </script>


    
