<div class="breadcrumbs" id="breadcrumbs">
					<script type="text/javascript">
					    try { ace.settings.check('breadcrumbs', 'fixed') } catch (e) { }
					</script>

					<ul class="breadcrumb">
						<li>
							<i class="ace-icon fa fa-home home-icon"></i>
							<a href="/">Home</a>
						</li>

						<li class="active">Context Based Routing</li>
					</ul><!-- /.breadcrumb -->

				</div>
<div class="page-content">
			

					<div class="page-header">
						<h1>
							Context Based Routing
							<small>
								<i class="ace-icon fa fa-angle-double-right"></i>
								with Failed Message Routing
							</small>
						</h1>
					</div><!-- /.page-header -->

					<div class="row">
						<div class="col-xs-12">
							<!-- PAGE CONTENT BEGINS -->

							<div class="widget-box">
								<div class="widget-header widget-header-blue widget-header-flat">
									<h4 class="widget-title lighter">CBR Wizard</h4>

									<div class="widget-toolbar">
										<label>
											<small class="green">
												<b>Validation</b>
											</small>

											<input id="skip-validation" type="checkbox" class="ace ace-switch ace-switch-4">
											<span class="lbl middle"></span>
										</label>
									</div>
								</div>

								<div class="widget-body">
									<div class="widget-main">
										<div id="fuelux-wizard" data-target="#step-container">
											<ul class="wizard-steps">
												<li data-target="#step1" class="active">
													<span class="step">1</span>
													<span class="title">Create Receive Port</span>
												</li>

												<li data-target="#step2" class="">
													<span class="step">2</span>
													<span class="title">Create Send Port</span>
												</li>

												<li data-target="#step3" class="">
													<span class="step">3</span>
													<span class="title">Configure Failed Message Routing</span>
												</li>

												<li data-target="#step4" class="">
													<span class="step">4</span>
													<span class="title">Review and Create</span>
												</li>
											</ul>
										</div>

										<hr>

										<div class="step-content pos-rel" id="step-container">
											<div class="step-pane active" id="step1">
												<h3 class="lighter block green">Enter the following information</h3>

												
                                                <!--http://scotch.io/tutorials/javascript/angularjs-form-validation-->
                                                <form class="form-horizontal" id="validation-form" name="rpForm" method="get" novalidate="novalidate">
                                                    <!--<cnginput ng-model="newReceivePort.name" form="rpForm" elname="rpName"></cnginput>-->
                                                    <pre>{{newReceivePort}} {{rpForm.$invalid}}</pre>

                                                    <field ng-model="newReceivePort.name" type="text" name="rpName" label="{{'ReceivePort' + ' Name'}}" required>
                                                        <validator key="required">Port Name is Required</validator>
                                                    </field>

                                                    <div class="space-2"></div>

                                                    <field ng-model="newReceivePort.description" type="text" name="rpDesc" label="{{'ReceivePort' + ' Description'}}" optional="true"></field>

                                                    <div class="space-2"></div>

                                                    <div class="form-group">
                                                        <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="email">Application Name:</label>

                                                        <div class="col-xs-12 col-sm-9">
                                                            <div class="clearfix">
                                                                <input type="text" name="text" id="appName" class="col-xs-12 col-sm-6" ng-model="newReceivePort.applicationName">
                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div class="form-group">
                                                        <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="email">Application Name:</label>

                                                        <div class="col-xs-12 col-sm-9">
                                                            <p>Selected: {{address.selected.formatted_address}}</p>
                                                            <ui-select ng-model="address.selected" class="col-xs-12 col-sm-6"
                                                                       theme="bootstrap"
                                                                       ng-disabled="disabled"
                                                                       reset-search-input="false">
                                                                <match placeholder="Enter an address...">{{$select.selected.formatted_address}}</match>
                                                                <choices repeat="address in addresses track by $index"
                                                                         refresh="refreshAddresses($select.search)"
                                                                         refresh-delay="0">
                                                                    <div ng-bind-html="address.formatted_address | highlight: $select.search"></div>
                                                                </choices>
                                                            </ui-select>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label">Default</label>
                                                        <div class="col-sm-6">
                                                            <ui-select ng-model="person.selected" theme="bootstrap">
                                                                <match placeholder="Select or search a person in the list...">{{$select.selected.name}}</match>
                                                                <choices repeat="item in people | filter: $select.search">
                                                                    <div ng-bind-html="item.name | highlight: $select.search"></div>
                                                                    <small ng-bind-html="item.email | highlight: $select.search"></small>
                                                                </choices>
                                                            </ui-select>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label">With a clear button</label>
                                                        <div class="col-sm-6">
                                                            <div class="input-group ">
                                                                <ui-select ng-model="person.selected" theme="bootstrap">
                                                                    <match placeholder="Select or search a person in the list...">{{$select.selected.name}}</match>
                                                                    <choices repeat="item in people | filter: $select.search">
                                                                        <span ng-bind-html="item.name | highlight: $select.search"></span>
                                                                        <small ng-bind-html="item.email | highlight: $select.search"></small>
                                                                    </choices>
                                                                </ui-select>
                                                                <span class="input-group-btn">
                                                                    <button ng-click="person.selected = undefined" class="btn btn-default">
                                                                        <span class="glyphicon glyphicon-trash"></span>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="hr hr-dotted"></div>

                                                            <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="name">Receive Location Name:</label>

                                                                <div class="col-xs-12 col-sm-9">
                                                                    <div class="clearfix">
                                                                        <input type="text" id="rlname" name="rlname" class="col-xs-12 col-sm-6" ng-model="newReceiveLocation.name">
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="space-2"></div>

                                                            <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="phone">Transport Type</label>
                                                                <div class="col-xs-12 col-sm-6">
                                                                    <div class="clearfix">
                                                                        <input type="text" id="trntype" name="trntype" class="col-xs-12 col-sm-6" ng-model="newReceiveLocation.transportType">
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="space-2"></div>
                                                            <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="name">Address URI:</label>

                                                                <div class="col-xs-12 col-sm-9">
                                                                    <div class="clearfix">
                                                                        <input type="text" id="rladdress" name="rladdress" class="col-xs-12 col-sm-6" ng-model="newReceiveLocation.address">
                                                                    </div>
                                                                </div>
                                                            </div>


                                                            <div class="hr hr-dotted"></div>

                                                            <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="form-field-select-3">Chosen</label>
                                                                <div class="col-xs-12 col-sm-9">
                                                                    <div class="clearfix">
                                                                        <select class="col-xs-12 col-sm-6" id="form-field-select-3" data-placeholder="Choose a State..." 
                                                                                ng-model="newReceivePort.person" ng-options ="person.name for person in people">

                                                                        </select>

                                                                    </div>
                                                                    <p ng-repeat="person in people">{{person.name}}</p>
                                                                </div>
                                                            </div>

                                                            <div class="space-2"></div>

                                                            <div class="form-group">
                                                                <label class="control-label col-xs-12 col-sm-3 no-padding-right" for="platform">Platform</label>

                                                                <div class="col-xs-12 col-sm-9">
                                                                    <div class="clearfix">
                                                                        <select class="input-medium" id="platform" name="platform">
                                                                            <option value="">------------------</option>
                                                                            <option value="linux">Linux</option>
                                                                            <option value="windows">Windows</option>
                                                                            <option value="mac">Mac OS</option>
                                                                            <option value="ios">iOS</option>
                                                                            <option value="android">Android</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="space-2"></div>


                                                            <div class="form-group">
                                                                <div class="col-xs-12 col-sm-4 col-sm-offset-3">
                                                                    <label>
                                                                        <input name="start" id="start" type="checkbox" class="ace" ng-model="newReceiveLocation.status">
                                                                        <span class="lbl"> Start Receive Location On Create</span>
                                                                    </label>
                                                                </div>
                                                            </div>

                                                            <div class="btn btn-primary" ng-click="AssociateRL()" ng-disabled="rpForm.$invalid || isUnchanged(newReceivePort)">Associate</div>
                                                </form>
											</div>

											<div class="step-pane" id="step2">
												<div>
													<div class="alert alert-success">
														<button type="button" class="close" data-dismiss="alert">
															<i class="ace-icon fa fa-times"></i>
														</button>

														<strong>
															<i class="ace-icon fa fa-check"></i>
															Well done!
														</strong>

														You successfully read this important alert message.
														<br>
													</div>

													<div class="alert alert-danger">
														<button type="button" class="close" data-dismiss="alert">
															<i class="ace-icon fa fa-times"></i>
														</button>

														<strong>
															<i class="ace-icon fa fa-times"></i>
															Oh snap!
														</strong>

														Change a few things up and try submitting again.
														<br>
													</div>

													<div class="alert alert-warning">
														<button type="button" class="close" data-dismiss="alert">
															<i class="ace-icon fa fa-times"></i>
														</button>
														<strong>Warning!</strong>

														Best check yo self, you're not looking too good.
														<br>
													</div>

													<div class="alert alert-info">
														<button type="button" class="close" data-dismiss="alert">
															<i class="ace-icon fa fa-times"></i>
														</button>
														<strong>Heads up!</strong>

														This alert needs your attention, but it's not super important.
														<br>
													</div>
												</div>
											</div>

											<div class="step-pane" id="step3">
												<div class="center">
													<h3 class="blue lighter">This is step 3</h3>
												</div>
											</div>

											<div class="step-pane" id="step4">
												<div class="center">
													<h3 class="green">Congrats!</h3>
													Your product is ready to ship! Click finish to continue!
												</div>
											</div>
										</div>

										<hr>
										<div class="wizard-actions">
											<button class="btn btn-prev" disabled="disabled">
												<i class="ace-icon fa fa-arrow-left"></i>
												Prev
											</button>

											<button class="btn btn-success btn-next" data-last="Finish">
												Next
												
											<i class="ace-icon fa fa-arrow-right icon-on-right"></i></button>
										</div>
									</div><!-- /.widget-main -->
								</div><!-- /.widget-body -->
							</div>

							<div id="modal-wizard" class="modal" aria-hidden="true" style="display: none;">
								<div class="modal-dialog">
									<div class="modal-content">
										<div class="modal-header" data-target="#modal-step-contents">
											<ul class="wizard-steps">
												<li data-target="#modal-step1" class="complete">
													<span class="step">1</span>
													<span class="title">Validation states</span>
												</li>

												<li data-target="#modal-step2" class="complete">
													<span class="step">2</span>
													<span class="title">Alerts</span>
												</li>

												<li data-target="#modal-step3" class="complete">
													<span class="step">3</span>
													<span class="title">Payment Info</span>
												</li>

												<li data-target="#modal-step4" class="active">
													<span class="step">4</span>
													<span class="title">Other Info</span>
												</li>
											</ul>
										</div>

										<div class="modal-body step-content" id="modal-step-contents">
											<div class="step-pane" id="modal-step1">
												<div class="center">
													<h4 class="blue">Step 1</h4>
												</div>
											</div>

											<div class="step-pane" id="modal-step2">
												<div class="center">
													<h4 class="blue">Step 2</h4>
												</div>
											</div>

											<div class="step-pane" id="modal-step3">
												<div class="center">
													<h4 class="blue">Step 3</h4>
												</div>
											</div>

											<div class="step-pane active" id="modal-step4">
												<div class="center">
													<h4 class="blue">Step 4</h4>
												</div>
											</div>
										</div>

										<div class="modal-footer wizard-actions">
											<button class="btn btn-sm btn-prev">
												<i class="ace-icon fa fa-arrow-left"></i>
												Prev
											</button>

											<button class="btn btn-success btn-sm btn-next" data-last="Finish">Finish<i class="ace-icon fa fa-arrow-right icon-on-right"></i></button>

											<button class="btn btn-danger btn-sm pull-left" data-dismiss="modal">
												<i class="ace-icon fa fa-times"></i>
												Cancel
											</button>
										</div>
									</div>
								</div>
							</div><!-- PAGE CONTENT ENDS -->
						</div><!-- /.col -->
					</div><!-- /.row -->
				</div>

<script>
    jQuery(function ($) {
        $('.chosen-select').chosen({ allow_single_deselect: true });
        //resize the chosen on window resize
        $(window).on('resize.chosen', function () {
            var w = $('.chosen-select').parent().width() * 0.6;
            $('.chosen-select').next().css({ 'width': w });
        }).trigger('resize.chosen');

    });
                                                    </script>